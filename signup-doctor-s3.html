<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0" name="viewport">

    <title>Clinic Schedule</title>
    <meta content="" name="description">
    <meta content="" name="keywords">

    <!-- Favicons -->
    <link href="assets/img/favicon.png" rel="icon">
    <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
          rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
    <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
    <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">

    <!-- =======================================================
    * Template Name: NiceAdmin - v2.4.1
    * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
    * Author: BootstrapMade.com
    * License: https://bootstrapmade.com/license/
    ======================================================== -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <style>
        .switch {
            position: relative;
            display: inline-block;
            width: 45px;
            height: 20px;
        }

            /* Hide default HTML checkbox */
            .switch input {
                opacity: 0;
                width: 0;
                height: 0;
            }

        /* The slider */
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgb(173, 171, 171);
            -webkit-transition: .4s;
            transition: .4s;
        }

            .slider:before {
                position: absolute;
                content: "";
                height: 10px;
                width: 10px;
                left: 4px;
                bottom: 4px;
                background-color: white;
                -webkit-transition: .4s;
                transition: .4s;
            }

        input:checked + .slider {
            background-color: #3d0dec;
        }

        input:focus + .slider {
            box-shadow: 0 0 1px #3d0dec;
        }

        input:checked + .slider:before {
            -webkit-transform: translateX(26px);
            -ms-transform: translateX(26px);
            transform: translateX(26px);
        }

        /* Rounded sliders */
        .slider.round {
            border-radius: 30px;
        }

            .slider.round:before {
                border-radius: 40%;
            }
    </style>
</head>

<body>

    <!-- ======= Header ======= -->



    <main id="main" class="main" style="padding-right: 10%;">


        <div class="main-content">
            <div class="page-content">
                <div class="container-fluid">
                    <!-- end page title -->

                    <div class="card">
                        <div class="card-header justify-content-between d-flex align-items-center">
                            <h4 class="card-title">Clinic Schedule</h4>
                        </div><!-- end card header -->
                        <div class="card-body">
                            <form id="myform" method="post" action="" style="padding-top: 10px;">
                                <div class="row">

                                    <!-- Monday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Mondaytxt">Monday</label>
                                            <label class="switch" id="monday" name="Monday" formControlName="Monday" style="left: 90%;">
                                                <input type="checkbox" id="MondayC" onchange="Monday()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Monday" style="display:none">
                                            <div style="padding-top: 2%;">

                                                <label class="VerticalAlignMiddle">Session:1 </label>

                                                <input type="checkbox" id="mondayS1">


                                                <label>Start Time</label>

                                                <input type="time" id="mS" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="mE" name="appt">


                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>

                                                <input type="checkbox" id="mondayS2">


                                                <label>Start Time</label>

                                                <input type="time" id="mS2" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="mE2" name="appt">



                                            </div>

                                        </div>
                                    </div>

                                    <!-- Tuesday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Tuesdaytxt">Tuesday</label>
                                            <label class="switch" id="tuesday" name="Tuesday" formControlName="Tuesday" style="left: 90%;">
                                                <input type="checkbox" id="TuesdayC" onclick="Tuesday()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Tuesday" style="display:none">
                                            <div style="padding-top: 2%;">
                                                <label class="VerticalAlignMiddle">Session:1 </label>


                                                <input type="checkbox" id="tuesdayS1">


                                                <label>Start Time</label>

                                                <input type="time" id="Ts" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="Te" name="appt">


                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>

                                                <input type="checkbox" id="tuesdayS2">


                                                <label>Start Time</label>

                                                <input type="time" id="Ts2" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="Te2" name="appt">


                                            </div>
                                        </div>




                                    </div>

                                    <!-- Wednesday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Wednesdaytxt">Wednesday</label>
                                            <label class="switch" id="wednesday" name="Wednesday" formControlName="Wednesday" style="left: 88%;">
                                                <input type="checkbox" id="WednesdayC" onclick="Wednesday()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Wednesday" style="display:none">
                                            <div style="padding-top: 2%;">
                                                <label class="VerticalAlignMiddle">Session:1 </label>

                                                <input type="checkbox" id="wednesdayS1">



                                                <label>Start Time</label>

                                                <input type="time" id="wS" name="appt">


                                                <label>End Time</label>

                                                <input type="time" id="wE" name="appt">


                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>

                                                <input type="checkbox" id="wednesdayS2">



                                                <label>Start Time</label>

                                                <input type="time" id="wS2" name="appt">


                                                <label>End Time</label>

                                                <input type="time" id="wE2" name="appt">

                                            </div>
                                        </div>




                                    </div>

                                    <!-- Thursday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Thursdaytxt">Thursday</label>
                                            <label class="switch" id="thursday" name="Thursday" formControlName="Thursday" style="left: 90%;">
                                                <input type="checkbox" id="ThursdayC" onclick="Thursady()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Thursday" style="display:none">
                                            <div style="padding-top: 2%;">
                                                <label class="VerticalAlignMiddle">Session:1 </label>

                                                <input type="checkbox" id="thursdayS1">


                                                <label>Start Time</label>

                                                <input type="time" id="thuS" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="thuE" name="appt">



                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>
                                                <input type="checkbox" id="thursdayS2">


                                                <label>Start Time</label>

                                                <input type="time" id="thuS2" name="appt">


                                                <label>End Time</label>

                                                <input type="time" id="thuE2" name="appt">


                                            </div>
                                        </div>




                                    </div>

                                    <!-- Friday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Fridaytxt">Friday</label>
                                            <label class="switch" id="friday" name="Friday" formControlName="Friday" style="left: 90%;">
                                                <input type="checkbox" id="FridayC" onclick="Friday()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Friday" style="display:none">
                                            <div style="padding-top: 2%;">
                                                <label class="VerticalAlignMiddle">Session:1 </label>

                                                <input type="checkbox" id="fridayS1">


                                                <label>Start Time</label>

                                                <input type="time" id="fS" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="fE" name="appt">



                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>
                                                <input type="checkbox" id="fridayS2">



                                                <label>Start Time</label>

                                                <input type="time" id="fS2" name="appt">


                                                <label>End Time</label>

                                                <input type="time" id="fE2" name="appt">


                                            </div>
                                        </div>




                                    </div>

                                    <!-- Saturday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Saturdaytxt">Saturday</label>
                                            <label class="switch" id="saturday" name="Saturday" formControlName="Saturday" style="left: 90%;">
                                                <input type="checkbox" id="SaturdayC" onclick="Saturday()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Saturday" style="display:none">
                                            <div style="padding-top: 2%;">
                                                <label class="VerticalAlignMiddle">Session:1 </label>
                                                <input type="checkbox" id="saturdayS1">


                                                <label>Start Time</label>
                                                <input type="time" id="SatS" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="SatE" name="appt">


                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>
                                                <input type="checkbox" id="saturdayS2">

                                                <label>Start Time</label>

                                                <input type="time" id="SatS2" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="SatE2" name="appt">

                                            </div>
                                        </div>
                                    </div>

                                    <!-- Sunday -->
                                    <div class="card" style="padding-bottom: 20px;">
                                        <div style="padding-top: 10px;">
                                            <label id="Sundaytxt">Sunday</label>
                                            <label class="switch" id="sunday" name="Sunday" formControlName="Sunday" style="left: 90%;">
                                                <input type="checkbox" id="SundayC" onclick="Sunday()">
                                                <span class="slider round"></span>
                                            </label>
                                        </div>
                                        <hr>
                                        <div id="Sunday" style="display:none">
                                            <div style="padding-top: 2%;">
                                                <label class="VerticalAlignMiddle">Session:1 </label>
                                                <input type="checkbox" id="sundayS1">

                                                <label>Start Time</label>

                                                <input type="time" id="sunS" name="appt">

                                                <label>End Time</label>

                                                <input type="time" id="sunE" name="appt">


                                                <label class="VerticalAlignMiddle" style="padding-left: 10%;">Session:2 </label>
                                                <input type="checkbox" id="sundayS2">


                                                <label>Start Time</label>

                                                <input type="time" id="sunS2" name="appt">



                                                <label>End Time</label>

                                                <input type="time" id="sunE2" name="appt">


                                            </div>
                                        </div>
                                    </div>

                                </div>



                                <div class="row justify-content-end">
                                    <div style="padding-left: 50%;">
                                        <div>
                                            <button type="submit" class="btn btn-primary w-md">Submit</button>
                                        </div>
                                    </div><!-- end col -->
                                </div><!-- end row -->
                            </form><!-- end form -->
                        </div>
                    </div><!-- end card -->
                    <!-- End Form Layout -->
                </div> <!-- container-fluid -->
            </div><!-- End Page-content -->
        </div>

    </main><!-- End #main -->
    <!-- Vendor JS Files -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js"></script>
    <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
    <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/vendor/chart.js/chart.min.js"></script>
    <script src="assets/vendor/echarts/echarts.min.js"></script>
    <script src="assets/vendor/quill/quill.min.js"></script>
    <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
    <script src="assets/vendor/tinymce/tinymce.min.js"></script>
    <script src="assets/vendor/php-email-form/validate.js"></script>

    <!-- Template Main JS File -->
    <!-- <script src="assets/libs/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="assets/libs/simplebar/simplebar.min.js"></script>
    <script src="assets/libs/feather-icons/feather.min.js"></script> -->
    <!-- <script src="assets/js/app.js"></script> -->
    <script>
        function Monday() {
            var checkBox = document.getElementById("MondayC");
           
            var text = document.getElementById("Monday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
        function Tuesday() {
            var checkBox = document.getElementById("TuesdayC");
            var text = document.getElementById("Tuesday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
        function Wednesday() {
            var checkBox = document.getElementById("WednesdayC");
            var text = document.getElementById("Wednesday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
        function Thursady() {
            var checkBox = document.getElementById("ThursdayC");
            var text = document.getElementById("Thursday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
        function Friday() {
            var checkBox = document.getElementById("FridayC");
            var text = document.getElementById("Friday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
        function Saturday() {
            var checkBox = document.getElementById("SaturdayC");
            var text = document.getElementById("Saturday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
        function Sunday() {
            var checkBox = document.getElementById("SundayC");
            var text = document.getElementById("Sunday");
            if (checkBox.checked == true) {
                text.style.display = "block";
            } else {
                text.style.display = "none";
            }
        }
    </script>

    <script type="text/javascript">
        var drData;
        $(window).on("load", function () {
            drData=JSON.parse(localStorage.getItem("drData"));
            console.log(drData)
            if(!drData){
                alert("Please add Dr details first. Go to S1 form");
            }else if(!drData.clinic){
                alert("Please add clinic details first. Go to S2 form"); 
            }
        });
        console.log(drData)
        $(function () {
            function getClinicTiming(day, session, start, end){
                return {Day : day, Session : session, StartTime : start, EndTime : end};
            }
            $("#myform").submit(function (e) {
                e.preventDefault();
                var ClinicData = [];
                var Monday = $("#MondayC").is(':checked');
                if (Monday) {
                    var Day = $("#Mondaytxt").text();
                    var Session1 = $("#mondayS1").is(':checked');
                    if (Session1) {
                        var StartTime = $("#mS").val();
                        var EndTime = $("#mE").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));
                    }
                    else {

                    }
                    var Session2 = $("#mondayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#mS2").val();
                        var EndTime = $("#mE2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));
                    }
                }

                // tuesday
                var Tuesday = $("#TuesdayC").is(':checked');
                if (Tuesday) {
                    var Day = $("#Tuesdaytxt").text();
                    var Session1 = $("#tuesdayS1").is(':checked');
                    
                    if (Session1) {
                        var StartTime = $("#Ts").val();
                        var EndTime = $("#Te").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));

                    }
                    else {

                    }
                    var Session2 = $("#tuesdayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#Ts2").val();
                        var EndTime = $("#Te2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));
                    }
                }
                // wwednesday
                var Wednesday = $("#WednesdayC").is(':checked');
                if (Wednesday) {
                    var Day = $("#Wednesdaytxt").text();
                    var Session1 = $("#wednesdayS1").is(':checked');
                    
                    if (Session1) {
                        var StartTime = $("#wS").val();
                        var EndTime = $("#wE").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));
                    }
                    var Session2 = $("#wednesdayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#wS2").val();
                        var EndTime = $("#wE2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));

                    }
                }

                //Thursday
                var Thursday = $("#ThursdayC").is(':checked');
                if (Thursday) {
                    var Day = $("#Thursdaytxt").text();
                    var Session1 = $("#thursdayS1").is(':checked');
                    
                    if (Session1) {
                        var StartTime = $("#thuS").val();
                        var EndTime = $("#thuE").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));

                    }
                    var Session2 = $("#thursdayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#thuS2").val();
                        var EndTime = $("#thuE2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));
                    }
                }
                
                // friday
                var Friday = $("#FridayC").is(':checked');
                if (Friday) {
                    var Day = $("#Fridaytxt").text();
                    var Session1 = $("#fridayS1").is(':checked');
                    if (Session1) {
                        var StartTime = $("#fS").val();
                        var EndTime = $("#fE").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));

                    }
                    var Session2 = $("#fridayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#fS2").val();
                        var EndTime = $("#fE2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));

                    }
                }


                //saturday

                var Saturday = $("#SaturdayC").is(':checked');
                if (Saturday) {
                    var Day = $("#Saturdaytxt").text();
                    var Session1 = $("#saturdayS1").is(':checked');
                    if (Session1) {
                        var StartTime = $("#SatS").val();
                        var EndTime = $("#SatE").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));

                    }
                    var Session2 = $("#saturdayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#SatS2").val();
                        var EndTime = $("#SatE2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));

                    }
                }

                //sunday
2
                var Sunday = $("#SundayC").is(':checked');
                if (Sunday) {
                    var Day = $("#Sundaytxt").text();
                    var Session1 = $("#sundayS1").is(':checked');
                    if (Session1) {
                        var StartTime = $("#sunS").val();
                        var EndTime = $("#sunE").val();
                        ClinicData.push(getClinicTiming(Day, "Session1", StartTime, EndTime));

                    }
                   
                    var Session2 = $("#sundayS2").is(':checked');
                    if (Session2) {
                        var StartTime = $("#sunS2").val();
                        var EndTime = $("#sunE2").val();
                        ClinicData.push(getClinicTiming(Day, "Session2", StartTime, EndTime));

                    }
                }
              
                if(drData && drData.clinic){
                    drData.clinic.clinicTiming = ClinicData;
                    console.log(JSON.stringify(drData));
                   
                    localStorage.setItem("drData", JSON.stringify(drData));
                  
                    window.location.assign("http://localhost/doctor.vaccine.pk/signup-doctor-s4.html");               
                }

                else{
                    alert("Pleae fill S1, S2 first");
                }
                
            });
        });
    </script>

</body>

</html>